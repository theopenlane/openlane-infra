# GCP Memorystore Redis Helm Chart (CNRM)

This Helm chart provisions a Google Cloud Memorystore for Redis instance using **GCP Config Connector**.

**Key Features:**

*   **Private IP by Default:** Connects to your VPC network for secure internal access.
*   **High Availability:** Supports STANDARD_HA tier for replication and failover.
*   **Flexible Sizing:** Configure memory capacity and Redis version.
*   **Transit Encryption:** Option to secure data in transit.

## Usage

This chart depends on a pre-existing VPC network from the `gcp-vpc` chart for private IP connectivity.
Ensure the referenced network exists before deploying.

## Values

Review the `values.yaml` for configurable parameters.

### Important Notes

*   **Private IP:** Memorystore Redis should almost always be deployed with private IP.
*   **Connectivity:** Applications connect to Redis via its IP address from within the same VPC network.
*   **Secrets:** Connection details (host, port) are stored in a Kubernetes Secret (autogenerated by CNRM) for easy application consumption.

**Conceptual `charts/gcp-memorystore-redis/templates/`**
*   `redis-instance.yaml`: Defines `RedisInstance` CR (`redis.cnrm.cloud.google.com/v1beta1.RedisInstance`). Configures `projectRef.external`, `region`, `redisVersion`, `tier`, `memorySizeGb`, `networkRef.external`, `transitEncryptionMode`. The `redisAuthEnabled: false` (default) and `authString` (if used) are also relevant. `secretRef.name` points to the Kubernetes secret where CNRM will write connection info.